{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named RecipeService, which provides methods for fetching recipe data either from an API endpoint or from an in-memory fallback. It includes logic to determine the API base URL from a global environment variable and exposes methods for retrieving all recipes or a specific recipe by ID.", "external_files": ["./recipe.model", "./recipes.data", "@angular/core", "@angular/common/http", "rxjs"], "external_methods": ["HttpClient.get", "rxjs.of"], "published": ["RecipeService"], "classes": [{"name": "RecipeService", "description": "An Angular injectable service providing recipe data fetching functionalities."}], "methods": [{"name": "private getApiBase(): string { getApiBase", "description": "Retrieves the API base URL from the global environment variable, supporting server-side rendering and browser environments.", "scope": "RecipeService", "scopeKind": "class"}, {"name": "getRecipes(): Observable<Recipe[]> { getRecipes", "description": "Fetches an array of recipes either from the API endpoint if available or from the in-memory RECIPES array as fallback.", "scope": "RecipeService", "scopeKind": "class"}, {"name": "getRecipe(id: string): Observable<Recipe | undefined> { getRecipe", "description": "Retrieves a single recipe by its ID, either via API or in-memory data based on the environment.", "scope": "RecipeService", "scopeKind": "class"}, {"name": "constructor(private http: HttpClient) {} constructor", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.http.get", "this.getApiBase", "console.log", "Array.isArray", "RECIPES.find", "of"], "search-terms": ["RecipeService", "getRecipes", "getRecipe", "API base URL", "recipes.data.ts", "Angular service", "HttpClient", "fallback recipes"], "state": 2, "file_id": 23, "knowledge_revision": 110, "git_revision": "e15fd7825cae41d016ffeb5a341eabe02e200589", "revision_history": [{"50": ""}, {"104": "e15fd7825cae41d016ffeb5a341eabe02e200589"}, {"106": "e15fd7825cae41d016ffeb5a341eabe02e200589"}, {"108": "e15fd7825cae41d016ffeb5a341eabe02e200589"}, {"110": "e15fd7825cae41d016ffeb5a341eabe02e200589"}], "ctags": [{"_type": "tag", "name": "RecipeService", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^export class RecipeService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "apiUrl", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^    const apiUrl = this.getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "RecipeService.getRecipe", "scopeKind": "method"}, {"_type": "tag", "name": "apiUrl", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^    const apiUrl = this.getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "RecipeService.getRecipes", "scopeKind": "method"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^  constructor(private http: HttpClient) {}$/", "language": "TypeScript", "kind": "method", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "found", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^      const found = RECIPES.find(r => r.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "RecipeService.getRecipe", "scopeKind": "method"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^  private getApiBase(): string {$/", "language": "TypeScript", "kind": "method", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "getRecipe", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^  getRecipe(id: string): Observable<Recipe | undefined> {$/", "language": "TypeScript", "kind": "method", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "getRecipes", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^  getRecipes(): Observable<Recipe[]> {$/", "language": "TypeScript", "kind": "method", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/simple-recipe-viewer-44380-44389/angular_frontend/src/app/recipe.service.ts", "pattern": "/^  constructor(private http: HttpClient) {}$/", "language": "TypeScript", "kind": "property", "scope": "RecipeService", "scopeKind": "class"}], "hash": "1c588734e60751ff77be609cc08cb088", "format-version": 4, "code-base-name": "angular_frontend", "filename": "angular_frontend/src/app/recipe.service.ts", "fields": [{"name": "constructor(private http: HttpClient) {}", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}]}